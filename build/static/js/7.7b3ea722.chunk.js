(this.webpackJsonp2021_f2e=this.webpackJsonp2021_f2e||[]).push([[7],{100:function(e,t,a){"use strict";var n=a(1);t.a=function(e){var t=e.className,a=e.onClick,c=e.title;return Object(n.jsx)("button",{className:"text-xs cursor-pointer bg-custom-pink text-white px-3 py-2 rounded-lg shadow hover:bg-white\n                  hover:text-custom-pink hover:border hover:border-custom-pink md:text-sm md:px-5 ".concat(t),onClick:a,children:c})}},101:function(e,t,a){"use strict";var n=a(93),c=a(0),r=function(){var e=Object(c.useState)(0),t=Object(n.a)(e,2),a=t[0],r=t[1];return Object(c.useEffect)((function(){var e=function(){r(window.pageYOffset)};return window.addEventListener("scroll",e),e(),function(){return window.removeEventListener("scroll",e)}}),[]),a},s=(a(102),a(103),a(40)),i=a(110),o=a(41),l=a(181),u=a(179),d=a(180),b=a(182),j=a(183),x=a(184),m=a(94),p=a(45),f=a.n(p),h=a(97),O=a(1);t.a=function(){var e=Object(s.c)(o.c),t=e.show,a=e.photos,p=e.title,g=e.description,v=e.phone,w=e.address,y=e.location,N=e.time,k=e.cycle,C=e.nonCycle,S=e.charge,T=Object(s.b)(),$=r(),F=Object(c.useState)(0),H=Object(n.a)(F,2),L=H[0],z=H[1],P=Object(i.a)();t&&(document.body.style.overflow="hidden");var A=function(e){var t="forward"===e?2:-2,n=(L+t)%a.length<0?a.length-2:(L+t)%a.length;z(n)};return Object(c.useEffect)((function(){t||z(0)}),[t]),Object(O.jsxs)(O.Fragment,{children:[t&&Object(O.jsx)("div",{className:"fixed z-30 -inset-10 bg-gray-500 bg-opacity-30 backdrop-blur w-100vw h-100vh overflow-hidden"}),Object(O.jsx)("button",{style:{top:"".concat($-(P.width>375?70:0),"px")},className:"absolute left-[calc(50%+148px)] transform transition duration-700  \n                  ".concat(t?"opacity-100 z-50":"opacity-0 z-n1","\n                  md:left-[calc(50%+290px)] lg:left-[calc(50%+340px)]\n                  "),onClick:function(){T(Object(o.a)()),document.body.style.overflow="auto"},children:Object(O.jsx)(l.a,{className:" bg-custom-pink text-white p-2 md:p-3 lg:p-5 rounded-lg font-extrabold"})}),Object(O.jsx)("div",{style:{top:"".concat($-(P.width>375?70:0),"px")},className:"absolute left-[calc(50%-148px)] w-[296px] max-h-[600px] duration-700 shadow-xl\n                  bg-white rounded-lg p-4 transform transition\n                    ".concat(t?"opacity-100 z-40":"opacity-0 z-n1"," overflow-auto \n                    md:p-8 md:left-[calc(50%-280px)] md:w-[560px] lg:left-[calc(50%-338px)] lg:w-[676px] lg:max-h-[700px]   \n                  "),children:Object(O.jsxs)(f.a,{className:"space-y-4 md:space-y-[22px]",children:[Object(O.jsx)("div",{className:"relative h-[195px] md:h-[380px] lg:h-[460px]",children:a.length>0?a.filter((function(e){return e.includes("https")})).map((function(e){return Object(O.jsx)("img",{className:"absolute inset-0 lazyload rounded block h-[195px] w-full object-cover \n                                  shadow transform transition duration-700\n                                  ".concat(a[L]===e?"opacity-100 z-40":"opacity-0 z-n1","\n                                  md:h-[380px] lg:h-[460px] \n                                "),src:e,alt:p},e)})):Object(O.jsx)("img",{className:"absolute inset-0 lazyload rounded block h-[195px] w-full object-cover shadow transform transition duration-700 opacity-100 z-40\n                              md:h-[380px] lg:h-[460px] \n                            ",src:h.a,alt:p})}),a.filter((function(e){return e.includes("https")})).length>1&&Object(O.jsxs)("div",{className:"text-right",children:[Object(O.jsx)("button",{children:Object(O.jsx)(u.a,{className:"bg-white text-black leading-none align-middle shadow  w-8 h-8 rounded-lg flex items-center justify-center mr-4",onClick:function(){return A("backward")}})}),Object(O.jsx)("button",{children:Object(O.jsx)(d.a,{className:"bg-black text-white leading-none align-middle shadow  w-8 h-8 rounded-lg flex items-center justify-center",onClick:function(){return A("forward")}})})]}),Object(O.jsx)("h4",{className:"text-lg",children:p}),Object(O.jsx)("p",{className:"text-sm",children:g}),Object(O.jsxs)("div",{className:"flex flex-col md:flex-row",children:[Object(O.jsxs)("h6",{className:"flex items-center md:w-2/3",children:[Object(O.jsx)(b.a,{className:" text-custom-pink w-5 align-middle mr-3"}),C||(k||N.slice(0,10))]}),S&&Object(O.jsxs)("h6",{className:"flex items-center md:w-1/3",children:[Object(O.jsx)(j.a,{className:" text-custom-pink w-5 align-middle mr-3"}),S]})]}),Object(O.jsxs)("div",{className:"flex flex-col md:flex-row",children:[Object(O.jsxs)("h6",{className:"flex items-center md:w-2/3",children:[Object(O.jsx)(m.a,{className:" text-custom-pink w-5 align-middle mr-3"}),y||w]}),v&&Object(O.jsxs)("h6",{className:"flex items-center md:w-1/3",children:[Object(O.jsx)(x.a,{className:" text-custom-pink w-5 align-middle mr-3"}),Object(O.jsx)("a",{href:"tel:+".concat(v),children:v})]})]})]})})]})}},104:function(e,t,a){"use strict";var n=a(113),c=a(116),r=a(1),s={option:function(e,t){return Object(n.a)(Object(n.a)({},e),{},{color:t.isSelected||t.isFocused?"white":"black",backgroundColor:t.isSelected?"#FF1D6C":t.isFocused?"#FFB72C":"white"})},control:function(e,t){return Object(n.a)(Object(n.a)({},e),{},{border:"none",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)"})}};t.a=function(e){var t=e.className,a=e.options,n=e.value,i=e.defaultValue,o=e.onChange;return Object(r.jsx)(c.a,{styles:s,className:"".concat(t),options:a,value:n,defaultValue:i,onChange:o})}},105:function(e,t,a){"use strict";var n=a(95),c=a(4),r=a(1);t.a=function(){var e=Object(c.g)(),t=Object(c.h)();return Object(r.jsx)("ul",{className:"flex flex-nowrap justify-between items-center space-x-10 rounded-lg shadow-lg  border border-gray-100 px-3 mb-3 text-sm w-full bg-white md:hidden",children:n.a.map((function(a){return Object(r.jsx)("li",{className:"py-2 hover:text-custom-pink ".concat(t.pathname==="/"+a.value?"text-custom-pink":""),onClick:function(t){e.push("/".concat(a.value))},children:a.label},"smNav-"+a.value)}))})}},106:function(e,t,a){"use strict";t.a=[{label:"\u81fa\u5317\u5e02",value:"Taipei"},{label:"\u65b0\u5317\u5e02",value:"NewTaipei"},{label:"\u6843\u5712\u5e02",value:"Taoyuan"},{label:"\u81fa\u4e2d\u5e02",value:"Taichung"},{label:"\u81fa\u5357\u5e02",value:"Tainan"},{label:"\u9ad8\u96c4\u5e02",value:"Kaohsiung"},{label:"\u57fa\u9686\u5e02",value:"Keelung"},{label:"\u65b0\u7af9\u5e02",value:"Hsinchu"},{label:"\u65b0\u7af9\u7e23",value:"HsinchuCounty"},{label:"\u82d7\u6817\u7e23",value:"MiaoliCounty"},{label:"\u5f70\u5316\u7e23",value:"ChanghuaCounty"},{label:"\u5357\u6295\u7e23",value:"NantouCounty"},{label:"\u96f2\u6797\u7e23",value:"YunlinCounty"},{label:"\u5609\u7fa9\u7e23",value:"ChiayiCounty"},{label:"\u5609\u7fa9\u5e02",value:"Chiayi"},{label:"\u5c4f\u6771\u7e23",value:"PingtungCounty"},{label:"\u5b9c\u862d\u7e23",value:"YilanCounty"},{label:"\u82b1\u84ee\u7e23",value:"HualienCounty"},{label:"\u81fa\u6771\u7e23",value:"TaitungCounty"},{label:"\u91d1\u9580\u7e23",value:"KinmenCounty"},{label:"\u6f8e\u6e56\u7e23",value:"PenghuCounty"},{label:"\u9023\u6c5f\u7e23",value:"LienchiangCounty"}]},110:function(e,t,a){"use strict";var n=a(93),c=a(0);t.a=function(){var e=Object(c.useState)({width:void 0,height:void 0}),t=Object(n.a)(e,2),a=t[0],r=t[1];return Object(c.useEffect)((function(){function e(){r({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),a}},111:function(e,t,a){"use strict";var n=a(0),c=(a(102),a(103),a(94)),r=a(118),s=a(97),i=a(1),o=Object(n.memo)((function(e){var t=e.title,a=e.address,n=e.picture,o=e.city,l=e.onClick;return Object(i.jsxs)("div",{className:"relative flex flex-col bg-white w-[calc(50%-8px)] shadow \n                    after:shadow-corner-l before:shadow-corner-r p-3 cursor-pointer \n                    md:w-[152px] lg:w-[206px] ",onClick:l,children:[Object(i.jsx)("img",{className:"lazyload rounded block w-full h-[128px] object-cover shadow transition  hover:scale-110 duration-500 mb-[10px] lg:h-[137px]","data-src":null!==n&&void 0!==n?n:s.a,alt:t}),Object(i.jsx)("h4",{className:"text-sm mb-3",children:t}),Object(i.jsxs)("div",{className:"mt-auto flex",children:[Object(i.jsx)(c.a,{className:"w-4 text-custom-pink inline mr-1 mt-auto"}),Object(i.jsx)("p",{className:"text-custom-green text-xs inline line-clamp-1","data-for":"main","data-tip":null!==a&&void 0!==a?a:o,"data-iscapture":"true",children:null!==a&&void 0!==a?a:o})]}),Object(i.jsx)(r.a,{id:"main",place:"top",type:"light",textColor:"white",effect:"float",backgroundColor:"#007350",borderColor:"#007350",multiline:!1,className:"rounded-xl"})]})}),(function(e,t){return e.title===t.title}));t.a=o},112:function(e,t,a){"use strict";var n=a(117),c=a(93),r=a(0),s=a(4),i=a(94),o=a(104),l=a(105),u=a(106),d=a(95),b=function(e,t){var a=e.slice();return a.unshift(t),a},j=function(e){var t=localStorage.getItem(e);if(!t)return null;var a=JSON.parse(t);return(new Date).getTime()>a.expiry?(localStorage.removeItem(e),null):a.value},x=a(1);t.a=function(e){var t=e.className,a=e.search,m=Object(s.g)(),p=b(u.a,{label:"\u4e0d\u5206\u7e23\u5e02",value:null}),f=b(d.a,{label:"\u985e\u5225",value:null}),h=Object(r.useState)(a),O=Object(c.a)(h,2),g=O[0],v=O[1],w=Object(r.useState)(f[0]),y=Object(c.a)(w,2),N=y[0],k=y[1],C=Object(r.useState)(p[0]),S=Object(c.a)(C,2),T=S[0],$=S[1],F=Object(r.useState)(j("searchHistory")?j("searchHistory").split(","):[]),H=Object(c.a)(F,2),L=H[0],z=H[1];return Object(x.jsx)("section",{className:"relative bg-white pb-5 px-3 md:px-[27px] md:py-[40px] md:bg-[#F6F7FB] lg:bg-white lg:after:shadow-corner-l lg:before:shadow-corner-r lg:shadow-sm lg:py-[23px] lg:mb-[90px]",children:Object(x.jsx)("div",{className:"".concat(t," flex justify-center items-center z-10 w-full lg:bg-cover lg:bg-no-repeat lg:bg-center lg:min-h-[490px]"),children:Object(x.jsxs)("div",{className:"flex flex-col justify-center items-stretch",children:[Object(x.jsxs)("div",{className:"hidden lg:block lg:mb-4",children:[Object(x.jsxs)("h2",{className:"text-white font-bold text-[50px] leading-[70px]",children:["Welcome to ",Object(x.jsx)("span",{className:"text-custom-pink",children:"Taiwan\xb0"})]}),Object(x.jsx)("h6",{className:"text-white text-sm",children:"\u53f0\u5317\u3001\u53f0\u4e2d\u3001\u53f0\u5357\u3001\u5c4f\u6771\u3001\u5b9c\u862d\u2026\u2026\u904a\u904d\u53f0\u7063"})]}),Object(x.jsx)(l.a,{}),Object(x.jsxs)("div",{className:"flex justify-between space-x-[6px] mb-[10px]",children:[Object(x.jsx)("input",{type:"text",placeholder:"\u641c\u5c0b\u95dc\u9375\u5b57",onChange:function(e){return v(e.target.value)},value:g,list:"searchHistory",className:"text-sm pl-6 py-2 text-gray-500 rounded-lg flex-grow tracking-wide shadow-lg md:w-[383px] lg:text-base "}),Object(x.jsx)("datalist",{id:"searchHistory",children:L.map((function(e){return Object(x.jsx)("option",{value:e},e)}))}),Object(x.jsx)("button",{className:"bg-custom-pink w-10 rounded-md",onClick:function(){if(!L.includes(g)){var e=[].concat(Object(n.a)(L),[g]);z(e),function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:30,n=new Date,c={value:t,expiry:n.getTime()+1e3*a*60*60*24};localStorage.setItem(e,JSON.stringify(c))}("searchHistory",e.toString())}m.push("/search?q=".concat(g))},children:Object(x.jsx)(i.b,{className:"w-4 h-4 text-white m-auto"})})]}),Object(x.jsxs)("div",{className:"flex space-x-[6px] items-stretch",children:[Object(x.jsx)(o.a,{options:f,className:"tracking-wider flex-grow text-sm lg:text-base",value:N,defaultValue:f[0],onChange:function(e){return k(e)}}),Object(x.jsx)(o.a,{options:p,className:"tracking-wider flex-grow text-sm lg:text-base",value:T,defaultValue:p[0],onChange:function(e){return $(e)}}),Object(x.jsx)("button",{className:"bg-custom-yellow w-10 rounded-md",onClick:function(){m.push("/".concat(N.value,"/").concat(T.value))},children:Object(x.jsx)(i.b,{className:"w-4 h-4 text-white m-auto"})})]})]})})})}},119:function(e,t,a){"use strict";var n=a(98),c=a(93),r=a(0),s=a(34),i=a(107),o=a.n(i),l=a(108),u=a(96),d=a(99),b=function(){var e=Object(l.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(d.a)(t),e.next=3,Object(u.a)("get","Tourism/Activity?$orderby=StartTime%20desc&$top=".concat(t,"&$format=JSON"));case 3:return a=e.sent,n=a.data,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(l.a)(o.a.mark((function e(t,a){var n,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(d.a)(t),e.next=3,Object(u.a)("get","Tourism/Activity/".concat(a,"?$orderby=StartTime%20desc&$top=").concat(t,"&$format=JSON"));case 3:return n=e.sent,c=n.data,e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),x=function(){var e=Object(l.a)(o.a.mark((function e(t,a){var n,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(d.a)(t),e.next=3,Object(u.a)("get","Tourism/Activity?$filter=contains(Name%2C'".concat(a,"')&$orderby=StartTime%20desc&$top=").concat(t,"&$format=JSON"));case 3:return n=e.sent,c=n.data,e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),m=a(40),p=(a(102),a(103),a(94)),f=a(41),h=a(97),O=a(1),g=Object(r.memo)((function(e){var t=e.activity,a=t.Address,n=t.Description,c=t.Location,r=t.Name,s=t.Picture,i=t.StartTime,o=t.Cycle,l=t.NonCycle,u=t.Charge,d=t.Phone,b={photos:Object.values(s)||[],title:r,description:n,phone:d,address:a,time:i,cycle:o,nonCycle:l,charge:u},j=Object(m.b)(),x=Object.values(s)[0];return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("div",{className:"relative bg-white flex w-full p-4 h-32 shadow before:shadow-corner-r after:shadow-corner-l  md:w-[calc(50%-27px)] md:h-[150px] lg:h-[228px] ",children:[Object(O.jsx)("img",{className:"lazyload rounded block w-1/3 h-full object-cover mr-4 shadow","data-src":null!==x&&void 0!==x?x:h.a,onClick:function(){return j(Object(f.d)(b))},alt:r}),Object(O.jsxs)("div",{className:"flex flex-col justify-between max-w-[calc(100%-33%-16px)]",children:[Object(O.jsx)("h4",{className:"font-semibold text-sm mb-[14px] lg:text-base",children:r}),Object(O.jsx)("p",{className:"hidden mb-3 lg:line-clamp-5 lg:text-sm lg:text-gray-400",children:n}),Object(O.jsxs)("div",{className:"flex items-center justify-between",children:[Object(O.jsxs)("div",{className:"lg:w-1/2",children:[Object(O.jsx)(p.a,{className:"w-5 text-custom-pink inline mr-2"}),Object(O.jsx)("h6",{className:"text-sm inline ",children:c||"to see the official site"})]}),Object(O.jsx)("button",{className:"hidden lg:block lg:border lg:border-custom-pink lg:px-8 lg:py-2 lg:text-custom-pink lg:rounded-xl lg:text-sm lg:w-1/2 lg:hover:bg-custom-pink lg:hover:text-white",onClick:function(){return j(Object(f.d)(b))},children:"\u6d3b\u52d5\u8a73\u60c5"})]})]})]})})}),(function(e,t){return e.activity.ActivityID===t.activity.ActivityID})),v=a(43),w=a(10),y=a(100),N=function(e){var t=e.city,a=e.defaultCount,n=e.keyword,i=Object(r.useState)(a||10),o=Object(c.a)(i,2),l=o[0],u=o[1],d=Object(s.useQuery)([t?"getNewestAcitivitiesByCity/".concat(t):n?"getNewestAcitivitiesByKeyword/".concat(n):"getNewestAcitivities",l],(function(){return t?j(l,t):n?x(l,n):b(l)})),m=d.isLoading,p=d.error,f=d.data;return m?Object(O.jsx)(w.a,{}):p?Object(O.jsx)(v.a,{message:p.message}):f.length>0?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{className:"flex flex-wrap items-center justify-between gap-6 mb-6 md:mb-12 lg:justify-start lg:gap-12",children:f.map((function(e,t){return Object(O.jsx)(g,{activity:e},t)}))}),f.length<l?"":Object(O.jsx)("div",{className:"text-center",children:Object(O.jsx)(y.a,{title:"Load More",onClick:function(){u(l+4)}})})]}):Object(O.jsx)(v.a,{})},k=a(101),C=a(42);t.a=function(e){var t=e.city,a=e.defaultCount,c=e.keyword;return Object(O.jsxs)(C.a,{children:[Object(O.jsx)(n.a,{subTitle:"\u71b1\u9580\u6d3b\u52d5",icon:"triangle"}),Object(O.jsx)(N,{city:t,defaultCount:a,keyword:c}),Object(O.jsx)(k.a,{})]})}},120:function(e,t,a){"use strict";var n=a(98),c=a(93),r=a(0),s=a(34),i=a(40),o=a(41),l=a(107),u=a.n(l),d=a(108),b=a(96),j=a(99),x=function(){var e=Object(d.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(j.a)(t),e.next=3,Object(b.a)("get","Tourism/ScenicSpot?$top=".concat(t,"&$format=JSON"));case 3:return a=e.sent,n=a.data,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(d.a)(u.a.mark((function e(t,a){var n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(j.a)(t),e.next=3,Object(b.a)("get","Tourism/ScenicSpot/".concat(a,"?$top=").concat(t,"&$format=JSON"));case 3:return n=e.sent,c=n.data,e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),p=function(){var e=Object(d.a)(u.a.mark((function e(t,a){var n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(j.a)(t),e.next=3,Object(b.a)("get","Tourism/ScenicSpot?$filter=contains(Name%2C'".concat(a,"')&$top=").concat(t,"&$format=JSON"));case 3:return n=e.sent,c=n.data,e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),f=a(43),h=a(10),O=a(111),g=a(100),v=a(1),w=function(e){var t=e.city,a=e.defaultCount,n=e.keyword,l=Object(i.b)(),u=Object(r.useState)(a||10),d=Object(c.a)(u,2),b=d[0],j=d[1],w=Object(s.useQuery)([t?"getScenicSpotsByCity/".concat(t):n?"getScenicSpotsByKeyword/".concat(n):"getScenicSpots",b],(function(){return t?m(b,t):n?p(b,n):x(b)})),y=w.isLoading,N=w.error,k=w.data;return y?Object(v.jsx)(h.a,{}):N?Object(v.jsx)(f.a,{message:N.message}):k.length>0?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{className:"flex flex-wrap gap-x-2 gap-y-6 md:gap-y-12 mb-6 md:mb-12",children:k.map((function(e){var t={photos:Object.values(e.Picture)||[],thumbnail:e.Picture.PictureUrl1,title:e.Name,description:e.Description,phone:e.Phone,address:e.Address,time:e.SrcUpdateTime,city:e.City};return Object(v.jsx)(O.a,{title:t.title,city:t.City,address:t.address,picture:t.thumbnail,onClick:function(){return l(Object(o.d)(t))}},e.ID)}))}),k.length<b?"":Object(v.jsx)("div",{className:"text-center",children:Object(v.jsx)(g.a,{onClick:function(){j(b+10)},title:"Load More"})})]}):Object(v.jsx)(f.a,{})},y=a(101),N=a(42);t.a=function(e){var t=e.city,a=e.defaultCount,c=e.keyword;return Object(v.jsxs)(N.a,{children:[Object(v.jsx)(n.a,{subTitle:"\u89c0\u5149\u666f\u9ede",icon:"triangle"}),Object(v.jsx)(w,{city:t,defaultCount:a,keyword:c}),Object(v.jsx)(y.a,{})]})}},121:function(e,t,a){"use strict";var n=a(98),c=a(93),r=a(0),s=a(34),i=a(40),o=a(41),l=a(107),u=a.n(l),d=a(108),b=a(96),j=a(99),x=function(){var e=Object(d.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(j.a)(t),e.next=3,Object(b.a)("get","Tourism/Restaurant?$top=".concat(t,"&$format=JSON"));case 3:return a=e.sent,n=a.data,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(d.a)(u.a.mark((function e(t,a){var n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(j.a)(t),e.next=3,Object(b.a)("get","Tourism/Restaurant/".concat(a,"?$top=").concat(t,"&$format=JSON"));case 3:return n=e.sent,c=n.data,e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),p=function(){var e=Object(d.a)(u.a.mark((function e(t,a){var n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(j.a)(t),e.next=3,Object(b.a)("get","Tourism/Restaurant?$filter=contains(Name%2C'".concat(a,"')&$top=").concat(t,"&$format=JSON"));case 3:return n=e.sent,c=n.data,e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),f=a(43),h=a(10),O=a(111),g=a(100),v=a(1),w=function(e){var t=e.city,a=e.defaultCount,n=e.keyword,l=Object(i.b)(),u=Object(r.useState)(a||10),d=Object(c.a)(u,2),b=d[0],j=d[1],w=Object(s.useQuery)([t?"getRestaurantsByCity/".concat(t):n?"getRestaurantsByKeyword/".concat(n):"getRestaurants",b],(function(){return t?m(b,t):n?p(b,n):x(b)})),y=w.isLoading,N=w.error,k=w.data;return y?Object(v.jsx)(h.a,{}):N?Object(v.jsx)(f.a,{message:N.message}):k.length>0?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{className:"flex flex-wrap gap-x-2 gap-y-6 md:gap-y-12 mb-6 md:mb-12",children:k.map((function(e){var t={photos:Object.values(e.Picture)||[],thumbnail:e.Picture.PictureUrl1,title:e.Name,description:e.Description,phone:e.Phone,address:e.Address,time:e.SrcUpdateTime};return Object(v.jsx)(O.a,{title:t.title,address:t.address,picture:t.thumbnail,onClick:function(){return l(Object(o.d)(t))}},e.ID)}))}),k.length<b?"":Object(v.jsx)("div",{className:"text-center",children:Object(v.jsx)(g.a,{onClick:function(){j(b+10)},title:"Load More"})})]}):Object(v.jsx)(f.a,{})},y=a(101),N=a(42);t.a=function(e){var t=e.city,a=e.defaultCount,c=e.keyword;return Object(v.jsxs)(N.a,{children:[Object(v.jsx)(n.a,{subTitle:"\u71b1\u9580\u9910\u98f2",icon:"rectangle"}),Object(v.jsx)(w,{city:t,defaultCount:a,keyword:c}),Object(v.jsx)(y.a,{})]})}},122:function(e,t,a){"use strict";var n=a(98),c=a(93),r=a(0),s=a(34),i=a(40),o=a(41),l=a(107),u=a.n(l),d=a(108),b=a(96),j=a(99),x=function(){var e=Object(d.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(j.a)(t),e.next=3,Object(b.a)("get","Tourism/Hotel?$orderby=ZipCode&$top=".concat(t,"&$format=JSON"));case 3:return a=e.sent,n=a.data,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(d.a)(u.a.mark((function e(t,a){var n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(j.a)(t),e.next=3,Object(b.a)("get","Tourism/Hotel/".concat(a,"?$top=").concat(t,"&$format=JSON"));case 3:return n=e.sent,c=n.data,e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),p=function(){var e=Object(d.a)(u.a.mark((function e(t,a){var n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(j.a)(t),e.next=3,Object(b.a)("get","Tourism/Hotel?$filter=contains(Name%2C'".concat(a,"')&$orderby=ZipCode%20desc&$top=").concat(t,"&$format=JSON"));case 3:return n=e.sent,c=n.data,e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),f=a(43),h=a(10),O=a(111),g=a(100),v=a(1),w=function(e){var t=e.city,a=e.defaultCount,n=e.keyword,l=Object(r.useState)(a||10),u=Object(c.a)(l,2),d=u[0],b=u[1],j=Object(i.b)(),w=Object(s.useQuery)([t?"getHotelsByCity/".concat(t):n?"getHotelsByKeyword/".concat(n):"getHotels",d],(function(){return t?m(d,t):n?p(d,n):x(d)})),y=w.isLoading,N=w.error,k=w.data;return y?Object(v.jsx)(h.a,{}):N?Object(v.jsx)(f.a,{message:N.message}):k.length>0?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{className:"flex flex-wrap gap-x-2 gap-y-6 mb-6 md:gap-y-12 md:mb-12",children:k.map((function(e){var t={photos:Object.values(e.Picture)||[],thumbnail:e.Picture.PictureUrl1,title:e.Name,description:e.Description,phone:e.Phone,address:e.Address,class1:e.Class,time:e.SrcUpdateTime};return Object(v.jsx)(O.a,{title:t.title,address:t.address,picture:t.thumbnail,onClick:function(){return j(Object(o.d)(t))}},e.ID)}))}),k.length<d?"":Object(v.jsx)("div",{className:"text-center",children:Object(v.jsx)(g.a,{onClick:function(){b(d+10)},title:"Load More"})})]}):Object(v.jsx)(f.a,{})},y=a(101),N=a(42);t.a=function(e){var t=e.city,a=e.defaultCount,c=e.keyword;return Object(v.jsxs)(N.a,{children:[Object(v.jsx)(n.a,{subTitle:"\u63a8\u85a6\u4f4f\u5bbf",icon:"cloud"}),Object(v.jsx)(w,{city:t,defaultCount:a,keyword:c}),Object(v.jsx)(y.a,{})]})}},178:function(e,t,a){"use strict";a.r(t);var n=a(93),c=a(0),r=a(4),s=function(){var e=Object(r.h)().search;return Object(c.useMemo)((function(){return new URLSearchParams(e)}),[e])},i=a(112),o=a(119),l=a(120),u=a(121),d=a(122),b=a(44),j=a(1);t.default=function(){var e=s().get("q"),t=Object(c.useState)(e),a=Object(n.a)(t,2),r=a[0],x=a[1];return Object(c.useEffect)((function(){x(e)}),[e]),Object(j.jsxs)(b.a,{children:[Object(j.jsx)(i.a,{className:"lg:bg-search",search:r}),Object(j.jsx)(o.a,{keyword:r}),Object(j.jsx)(l.a,{keyword:r}),Object(j.jsx)(u.a,{keyword:r}),Object(j.jsx)(d.a,{keyword:r})]})}},95:function(e,t,a){"use strict";t.a=[{label:"\u666f\u9ede",value:"ScenicSpot"},{label:"\u6d3b\u52d5",value:"activity"},{label:"\u7f8e\u98df",value:"restaurant"},{label:"\u4f4f\u5bbf",value:"hotel"},{label:"\u4ea4\u901a",value:"traffic"}]},96:function(e,t,a){"use strict";var n=a(114),c=a.n(n),r=a(115);c.a.defaults.baseURL="https://ptx.transportdata.tw/MOTC/v2/";var s=function(){return(new Date).toGMTString()},i=function(){var e=new r.a("SHA-1","TEXT");e.setHMACKey("dFwrc8ddzQ5uOGgvUgeagIMLa2s","TEXT"),e.update("x-date: "+s());var t=e.getHMAC("B64");return'hmac username="'.concat("c3eb1209afc340c1bf1d721b6c76f965",'", algorithm="hmac-sha1", headers="x-date", signature="').concat(t,'"')};t.a=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3?arguments[3]:void 0;switch(e=e.toLowerCase(),c.a.defaults.headers.Authorization=i(),c.a.defaults.headers["X-Date"]=s(),c.a.defaults.timeout=2500,e){case"post":return c.a.post(t,a,n);case"get":return c.a.get(t,{params:a});case"delete":return c.a.delete(t,{params:a});case"put":return c.a.put(t,a);case"patch":return c.a.patch(t,a);default:return console.log("unknown method: ".concat(e)),!1}}},97:function(e,t,a){"use strict";t.a=a.p+"static/media/alt.e8fdb88b.jpeg"},98:function(e,t,a){"use strict";var n=a(88),c=a(89),r=a(1),s=function(e){switch(e){default:return Object(r.jsx)(n.a,{className:"text-custom-pink mr-4 text-[30px]"});case"rectangle":return Object(r.jsx)("svg",{width:"20",height:"20",className:"mr-6",children:Object(r.jsx)("rect",{width:"20",height:"20",fill:"#FFB72C"})});case"cloud":return Object(r.jsx)(c.a,{className:"text-blue-500 mr-4 text-[30px]"})}};t.a=function(e){var t=e.subTitle,a=e.icon,n=s(a);return Object(r.jsxs)("h2",{className:"flex items-center text-sm lg:text-xl mb-3",children:[n,t]})}},99:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n=function(e,t){var a;return null!==(a=null!==e&&void 0!==e?e:t)&&void 0!==a?a:10}}}]);
//# sourceMappingURL=7.7b3ea722.chunk.js.map